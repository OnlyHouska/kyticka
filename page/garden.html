<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kyticka</title>
    <link rel="stylesheet" href="../style/garden.css">
    <link rel="stylesheet" href="../style/ui.css">
    <link rel="stylesheet" href="../style/npc.css">
    <style>
        .movable {
            cursor: grab;
        }
        .movable.dragging {
            cursor: grabbing;
            position: fixed;
            z-index: 9999;
            pointer-events: none;
        }

        /* SEED LOCK VISUALIZATION */
        .seed-locked {
            position: relative;
            opacity: 0.4;
            filter: grayscale(100%) brightness(0.5);
            cursor: not-allowed;
        }
        
        .seed-locked::before {
            content: 'ðŸ”’';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
            z-index: 10;
            background: rgba(0,0,0,0.9);
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ff4444;
            border: 2px solid #ff4444;
            box-shadow: 0 0 8px rgba(255,68,68,0.6);
        }

        .seed-locked::after {
            content: attr(data-lock-cost);
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: #ffaa00;
            padding: 2px 6px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            white-space: nowrap;
            z-index: 11;
        }

        .seed-locked:hover {
            transform: scale(1.1);
        }
    </style>
</head>
<body style="background-color: green; height: 100vh; user-select: none; overflow: hidden;">
    <div class="ui-top">
        <a href="./finalCard.html" class="backArrowIcon"></a>
        <div style="position: relative;">
            <img src="../assets/ui-toolbar.png" class="ui-toolbar">
            <div style="left: 73px; top: 33px; position: absolute; padding: 0 20px; display: flex; gap: 15px;">                
                <!-- SEED 1 - UNLOCKED -->
                <div class="seed seed-1 movable" title="ja nevim kamo listy zeleny nejaky"></div>
                
                <!-- SEED 2 - UNLOCKED -->
                <div class="seed seed-2 movable" title="buraky asi"></div>
                
                <!-- SEED 3 - LOCKED (15 coins) -->
                <div class="seed seed-3 movable seed-locked" 
                     title="cibulka (klikni pro odemknutÃ­)" 
                     data-lock-cost="15ðŸ’°"
                     data-seed-type="3">
                </div>
                
                <!-- SEED 4 - LOCKED (15 coins) -->
                <div class="seed seed-4 movable seed-locked" 
                     title="malinka malinka (klikni pro odemknutÃ­)" 
                     data-lock-cost="15ðŸ’°"
                     data-seed-type="4">
                </div>
                
                <!-- SEED 5 - LOCKED (25 coins) -->
                <div class="seed seed-5 movable seed-locked" 
                     title="melounek (klikni pro odemknutÃ­)" 
                     data-lock-cost="25ðŸ’°"
                     data-seed-type="5">
                </div>
                
                <div class="watering-can movable" title="konvicka"></div>
                <div class="basket movable" title="kosicek"></div>
                <div class="shovel movable" title="lopatka"></div>
            </div>
        </div>

        <div style="position: absolute; right: 70px; top: 150px;">
            <div style=" display: flex; gap: 20px;">
                <div style="position: relative; height: 50px; width: 50px; margin-top: -10px; margin-right: 100px;">
                    <img src="../assets/money.png" style="width: 100%; height: 100%;">
                    <span id="moneyCount" style="position: absolute; bottom: -20px; left: 22px;">0</span>
                </div>

                <div class="plant plant-1" style="position: relative;">
                    <span id="plantOneCount" style="position: absolute; bottom: -20px; left: 10px;">0</span>
                </div>
                <div class="plant plant-2" style="position: relative; background-position: 37px -7px;">
                    <span id="plantTwoCount" style="position: absolute; bottom: -20px; left: 10px;">0</span>
                </div>
                <div class="plant plant-3" style="position: relative; background-position: -76px -10px;">
                    <span id="plantThreeCount" style="position: absolute; bottom: -20px; left: 10px;">0</span>
                </div>
                <div class="plant plant-4" style="position: relative; width: 40px; background-position: -72px -48px;">
                    <span id="plantFourCount" style="position: absolute; bottom: -20px; left: 14px;">0</span>
                </div>
                <div class="plant plant-5" style="position: relative; width: 37px; height: 42px; background-size: 412px; left: unset; background-position: -617px 41px;">
                    <span id="plantFiveCount" style="position: absolute; bottom: -20px; left: 13.5px;">0</span>
                </div>
            </div>
        </div>
    </div>
    
    <div class="ui-center" style="display: flex; flex-direction: column;">
        <div class="npc-control-panel">
            <div class="npc-buttons-grid">
                <button class="npc-btn npc-btn--pos1" 
                        data-npc-pos="1" 
                        onclick="fulfillNPC(1)"
                        onmouseenter="showNPCLink(1)"
                        onmouseleave="hideNPCLink(1)">
                    <span class="npc-btn__icon">ðŸ‘¤</span>
                    <span class="npc-btn__text">Prodat prvnÃ­mu</span>
                </button>
                <button class="npc-btn npc-btn--pos2" 
                        data-npc-pos="2" 
                        onclick="fulfillNPC(2)"
                        onmouseenter="showNPCLink(2)"
                        onmouseleave="hideNPCLink(2)">
                    <span class="npc-btn__icon">ðŸ‘¤</span>
                    <span class="npc-btn__text">Prodat druhÃ©mu</span>
                </button>
                <button class="npc-btn npc-btn--pos3" 
                        data-npc-pos="3" 
                        onclick="fulfillNPC(3)"
                        onmouseenter="showNPCLink(3)"
                        onmouseleave="hideNPCLink(3)">
                    <span class="npc-btn__icon">ðŸ‘¤</span>
                    <span class="npc-btn__text">Prodat tÅ™etÃ­mu</span>
                </button>
            </div>
        </div>
        
        <!-- First Row -->
        <div class="garden-row">
            <!-- Garden Plot 1 -->
            <div class="garden-plot" data-garden="1">

                <button class="garden-plot__button hidden">
                    Koupit
                </button>

                <img class="dirt" src="../assets/pile-of-dirt.png" style="height: 150px; width: 150px;"/>
                <div class="timer">
                    <div class="timer-fill"></div>
                </div>
        
                <div class="seed-stage seed-stage-0"></div>
                <div class="seed-stage seed-stage-1"></div>
                <div class="seed-stage seed-stage-2"></div>
                <div class="seed-stage seed-stage-3"></div>

                <div class="plant plant-pos-0 plant-placeholder movable" title="vem to"></div>
                <div class="plant plant-pos-1 plant-placeholder movable" title="vem to"></div>
                <div class="plant plant-pos-2 plant-placeholder movable" title="vem to"></div>
            </div>

            <!-- Garden Plot 2 -->
            <div class="garden-plot" data-garden="2">

                <button class="garden-plot__button">
                    Koupit
                </button>

                <img class="dirt" src="../assets/pile-of-dirt.png" style="height: 150px; width: 150px;"/>
                <div class="timer">
                    <div class="timer-fill"></div>
                </div>
        
                <div class="seed-stage seed-stage-0"></div>
                <div class="seed-stage seed-stage-1"></div>
                <div class="seed-stage seed-stage-2"></div>
                <div class="seed-stage seed-stage-3"></div>

                <div class="plant plant-pos-0 plant-placeholder movable" title="vem to"></div>
                <div class="plant plant-pos-1 plant-placeholder movable" title="vem to"></div>
                <div class="plant plant-pos-2 plant-placeholder movable" title="vem to"></div>
            </div>
        </div>

        <!-- Second Row -->
        <div class="garden-row">
            <!-- Garden Plot 3 -->
            <div class="garden-plot" data-garden="3">

                 <button class="garden-plot__button">
                    Koupit
                </button>

                <img class="dirt" src="../assets/pile-of-dirt.png" style="height: 150px; width: 150px;"/>
                <div class="timer">
                    <div class="timer-fill"></div>
                </div>
        
                <div class="seed-stage seed-stage-0"></div>
                <div class="seed-stage seed-stage-1"></div>
                <div class="seed-stage seed-stage-2"></div>
                <div class="seed-stage seed-stage-3"></div>

                <div class="plant plant-pos-0 plant-placeholder movable" title="vem to"></div>
                <div class="plant plant-pos-1 plant-placeholder movable" title="vem to"></div>
                <div class="plant plant-pos-2 plant-placeholder movable" title="vem to"></div>
            </div>

            <!-- Garden Plot 4 -->
            <div class="garden-plot" data-garden="4">

                <button class="garden-plot__button">
                    Koupit
                </button>

                <img class="dirt" src="../assets/pile-of-dirt.png" style="height: 150px; width: 150px;"/>
                <div class="timer">
                    <div class="timer-fill"></div>
                </div>
        
                <div class="seed-stage seed-stage-0"></div>
                <div class="seed-stage seed-stage-1"></div>
                <div class="seed-stage seed-stage-2"></div>
                <div class="seed-stage seed-stage-3"></div>

                <div class="plant plant-pos-0 plant-placeholder movable" title="vem to"></div>
                <div class="plant plant-pos-1 plant-placeholder movable" title="vem to"></div>
                <div class="plant plant-pos-2 plant-placeholder movable" title="vem to"></div>
            </div>
        </div>
    </div>

    <div class="npc__fences">
        <div class="npc__fence-group-1">
            <div class="npc__fence npc__fence-1">
                <img src="../assets/fence.png">
            </div>
            <div class="npc__fence npc__fence-1 npc__fence-1-2">
                <img src="../assets/fence.png">
            </div>
        </div>
        <div class="npc__fence-group-2">
            <div class="npc__fence npc__fence-2">
                <img src="../assets/fence.png">
            </div>
            <div class="npc__fence npc__fence-2 npc__fence-2-2">
                <img src="../assets/fence.png">
            </div>
        </div>
        <div class="npc__fence-group-3">
            <div class="npc__fence npc__fence-3">
                <img src="../assets/fence.png">
            </div>
            <div class="npc__fence npc__fence-3 npc__fence-3-2">
                <img src="../assets/fence.png">
            </div>
            <div class="npc__fence npc__fence-3 npc__fence-3-3">
                <img src="../assets/fence.png">
            </div>
        </div>
    </div>

    <div class="npc__container">
    </div>
</body>

<script src="../scripts/garden.js"></script>
<script src="../scripts/npc.js"></script>
</html>
